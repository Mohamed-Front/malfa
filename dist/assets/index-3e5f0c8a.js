import{_ as ne,u as ie,r as t,f as de,E as ce,w as re,o as pe,h as i,i as ue,b as c,c as r,j as s,e as l,k as n,G as _e,a as j,l as f,m as ve,q as A,t as _,F as R,A as me,p as ge,C as z,s as he,v as be}from"./index-7498dde3.js";const p=y=>(he("data-v-546844da"),y=y(),be(),y),fe={class:"grid"},ye={class:"col-12"},xe={class:"my-2"},we={class:"my-2 flex gap-2"},ke={class:"p-input-icon-left"},Ce=p(()=>s("i",{class:"pi pi-search"},null,-1)),De=p(()=>s("div",{class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},[s("h5",{class:"m-0 my-auto px-2"},"Brands")],-1)),Ne={class:"p-paginator p-component p-unselectable-text mt-3"},Pe={class:"p-paginator-left-content"},Ve={class:"p-paginator-current"},Te={class:"p-paginator-right-content"},Se={class:"p-paginator-pages"},$e=["disabled"],Be=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),Ie=[Be],Ue=["disabled"],Me=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Ee=[Me],Fe=["onClick"],je={key:1,class:"p-paginator-dots"},Ae=["disabled"],Re=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),ze=[Re],qe=["disabled"],Ge=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Le=[Ge],Oe={class:"p-paginator-rpp-options"},Qe={class:"flex align-items-center justify-content-center"},Ye=p(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0},Je={setup(y){const N=ie();t([]);const q=de();t(null);const x=t(!0),P=t("");t({}),t(!0),t("");const V=t(null);t(!1),t(!1);const v=t(!1),G=t({}),T=t(null),S=t(null),$=t({}),w=t(""),d=t(1),B=t(0),m=t(10),k=t(0),L=t(""),O=t(""),I=t(""),U=t(""),M=t(0),E=t(0),F=t([]),Q=()=>{S.value.exportCSV()},Y=a=>{P.value=a,v.value=!0},H=()=>{j.delete(`/api/brand/${P.value}`).then(()=>{g(),v.value=!1,q.add({severity:"success",summary:"Successful",detail:"brand Deleted",life:3e3})})},J=()=>{$.value={global:{value:null,matchMode:_e.CONTAINS}}};ce(()=>{J()});const g=()=>{x.value=!0,j.get("/api/brand",{params:{page:d.value,limit:m.value,search:w.value}}).then(a=>{x.value=!1,V.value=a.data.data.data,B.value=a.data.data.total,k.value=a.data.data.last_page,L.value=a.data.data.first_page_url,O.value=a.data.data.last_page_url,I.value=a.data.data.next_page_url,U.value=a.data.data.prev_page_url,M.value=a.data.data.from,E.value=a.data.data.to,F.value=a.data.data.links}).catch(a=>{x.value=!1,console.error("Error fetching data:",a)})};re(w,a=>{d.value=1,g()});const h=a=>{a>=1&&a<=k.value&&(d.value=a,g())},K=a=>{m.value=a.value,d.value=1,g()};pe(()=>{g()});const W=()=>{N.push({name:"brand-create"})},X=a=>{N.push({name:"brand-edit",params:{id:a}})};return(a,o)=>{const u=i("Button"),Z=i("InputText"),ee=i("Toolbar"),te=i("Toast"),C=i("Column"),ae=i("DataTable"),se=i("Dropdown"),oe=i("Dialog"),le=i("va-card"),b=ue("can");return c(),r("div",fe,[s("div",ye,[l(le,{class:"card"},{default:n(()=>[l(ee,{class:"mb-4"},{start:n(()=>[s("div",xe,[f(l(u,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:W},null,512),[[b,"create brands"]])])]),end:n(()=>[f((c(),r("div",we,[s("span",ke,[Ce,l(Z,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=e=>w.value=e),placeholder:"Search..."},null,8,["modelValue"])]),l(u,{label:"Export",icon:"pi pi-upload",class:"new",onClick:o[1]||(o[1]=e=>Q())})])),[[b,"list brands"]])]),_:1}),l(te),f((c(),ve(ae,{ref_key:"dt",ref:S,selection:T.value,"onUpdate:selection":o[2]||(o[2]=e=>T.value=e),value:V.value,loading:x.value,"data-key":"id",paginator:!1,rows:m.value,filters:$.value,"responsive-layout":"scroll"},{header:n(()=>[De]),default:n(()=>[l(C,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(C,{field:"name_ar",header:"Name (ar)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[A(_(e.data.name_ar),1)]),_:1}),l(C,{field:"name_en",header:"Name (en)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[A(_(e.data.name_en),1)]),_:1}),l(C,{"header-style":"min-width:10rem;"},{body:n(e=>[f(l(u,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:D=>X(e.data.id)},null,8,["onClick"]),[[b,"edit brands"]]),f(l(u,{icon:"pi pi-trash",class:"delete mt-2",onClick:D=>Y(e.data.id)},null,8,["onClick"]),[[b,"delete brands"]])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"])),[[b,"list brands"]]),s("div",Ne,[s("div",Pe,[s("span",Ve,"Showing "+_(M.value)+" to "+_(E.value)+" of "+_(B.value)+" entries",1)]),s("div",Te,[s("span",Se,[s("button",{class:"p-paginator-first p-paginator-element p-link",disabled:d.value===1,onClick:o[3]||(o[3]=e=>h(1))},Ie,8,$e),s("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!U.value,onClick:o[4]||(o[4]=e=>h(d.value-1))},Ee,8,Ue),(c(!0),r(R,null,me(F.value,(e,D)=>(c(),r(R,{key:D},[e.label&&!isNaN(e.label)?(c(),r("button",{key:0,class:ge(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:Ke=>h(parseInt(e.label))},_(e.label),11,Fe)):e.label==="..."?(c(),r("span",je,"...")):z("",!0)],64))),128)),s("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!I.value,onClick:o[5]||(o[5]=e=>h(d.value+1))},ze,8,Ae),s("button",{class:"p-paginator-last p-paginator-element p-link",disabled:d.value===k.value,onClick:o[6]||(o[6]=e=>h(k.value))},Le,8,qe)]),s("span",Oe,[l(se,{modelValue:m.value,"onUpdate:modelValue":o[7]||(o[7]=e=>m.value=e),options:[5,10,20,30],onChange:K,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),l(oe,{visible:v.value,"onUpdate:visible":o[9]||(o[9]=e=>v.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[l(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[8]||(o[8]=e=>v.value=!1)}),l(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:H})]),default:n(()=>[s("div",Qe,[Ye,G.value?(c(),r("span",He,"Are you sure you want to delete the selected brand?")):z("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},Xe=ne(Je,[["__scopeId","data-v-546844da"]]);export{Xe as default};
