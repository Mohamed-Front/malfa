import{p as ee,y as te,z as se,L as ae,r as c,d as j,C as le,e as i,f as d,E as oe,i as m,w as H,J as u,F as P,h as e,t as J,n as q,G as $,k as K,j as ne,s as re,v as ie,m as v,b as de}from"./index-cc239839.js";const o=I=>(re("data-v-7ab903f9"),I=I(),ie(),I),ue={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},ce=o(()=>e("h1",{class:"text-3xl font-bold text-center mb-8 text-gray-800"},"Create New Store",-1)),pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},me={class:"space-y-2"},_e=o(()=>e("label",{for:"name_en",class:"block text-sm font-medium text-gray-700"},[v(" English Name "),e("span",{class:"text-red-500"},"*")],-1)),ge={key:0,class:"text-red-500 text-xs"},ve={class:"space-y-2"},be=o(()=>e("label",{for:"name_ar",class:"block text-sm font-medium text-gray-700"},[v(" Arabic Name "),e("span",{class:"text-red-500"},"*")],-1)),fe={key:0,class:"text-red-500 text-xs"},he={class:"space-y-4 md:col-span-2"},xe={class:"flex items-center space-x-4"},ye=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mx-2"},"Default Store",-1)),we={class:"flex items-center space-x-4"},ke=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mx-2"},"Has Market",-1)),Ce={class:"space-y-2"},De=o(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Store Logo",-1)),Se={class:"flex justify-center"},je={key:0,class:"p-4 w-full h-full"},$e={class:"relative group w-full h-full"},Ie=["src"],Ve={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Be=o(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Te=[Be],Ue={key:1,class:"p-4 flex flex-col items-center justify-center"},Ee=o(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),Fe=o(()=>e("p",{class:"text-sm text-center text-gray-600"},[e("span",{class:"text-blue-500 font-medium"},"Click to upload"),v(" or drag and drop ")],-1)),Pe=[Ee,Fe],Me={class:"space-y-2"},Ne=o(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Main Banner",-1)),Le={class:"flex justify-center"},Ae={key:0,class:"p-4 w-full h-full"},Re={class:"relative group w-full h-full"},Oe=["src"],ze={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ge=o(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),He=[Ge],Je={key:1,class:"p-4 flex flex-col items-center justify-center"},qe=o(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),Ke=o(()=>e("p",{class:"text-sm text-center text-gray-600"},[e("span",{class:"text-blue-500 font-medium"},"Click to upload"),v(" or drag and drop ")],-1)),Qe=[qe,Ke],We={class:"space-y-2 md:col-span-2"},Xe=o(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Sub Banner",-1)),Ye={class:"flex justify-center"},Ze={key:0,class:"p-4 w-full h-full"},et={class:"relative group w-full h-full"},tt=["src"],st={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},at=o(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),lt=[at],ot={key:1,class:"p-4 flex flex-col items-center justify-center"},nt=o(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),rt=o(()=>e("p",{class:"text-sm text-center text-gray-600"},[e("span",{class:"text-blue-500 font-medium"},"Click to upload"),v(" or drag and drop ")],-1)),it=[nt,rt],dt={class:"space-y-2 md:col-span-2"},ut=o(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Slider Images One",-1)),ct={class:"flex justify-center"},pt={key:0,class:"p-4"},mt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},_t=["src","alt"],gt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},vt=["onClick"],bt=o(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),ft=[bt],ht=o(()=>e("p",{class:"mt-2 text-center text-sm text-gray-500"},"Click or drag to add more images",-1)),xt={key:1,class:"p-8 flex flex-col items-center justify-center"},yt=o(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),wt=o(()=>e("p",{class:"text-sm text-center text-gray-600 mb-1"},[e("span",{class:"text-blue-500 font-medium"},"Click to upload"),v(" or drag and drop ")],-1)),kt=o(()=>e("p",{class:"text-xs text-gray-400"},"Multiple images can be selected",-1)),Ct=[yt,wt,kt],Dt={class:"space-y-2 md:col-span-2"},St=o(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Slider Images Two",-1)),jt={class:"flex justify-center"},$t={key:0,class:"p-4"},It={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Vt=["src","alt"],Bt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Tt=["onClick"],Ut=o(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Et=[Ut],Ft=o(()=>e("p",{class:"mt-2 text-center text-sm text-gray-500"},"Click or drag to add more images",-1)),Pt={key:1,class:"p-8 flex flex-col items-center justify-center"},Mt=o(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),Nt=o(()=>e("p",{class:"text-sm text-center text-gray-600 mb-1"},[e("span",{class:"text-blue-500 font-medium"},"Click to upload"),v(" or drag and drop ")],-1)),Lt=o(()=>e("p",{class:"text-xs text-gray-400"},"Multiple images can be selected",-1)),At=[Mt,Nt,Lt],Rt={class:"pt-4 flex justify-center space-x-4"},Ot={key:0},zt={key:1,class:"pi pi-spinner pi-spin"},Gt={setup(I){const M=te(),N=se(),{t:L}=ae(),h=c(),b=c(!1),a=c({name_en:"",name_ar:"",is_default:!1,has_market:!1,store_image:null,main_banner_image:null,sub_banner_image:null,slider_images_one:[],slider_images_two:[]}),V=c(null),B=c(null),T=c(null),x=c([]),y=c([]),w=c(!1),k=c(!1),C=c(!1),D=c(!1),S=c(!1),Q=(l,t)=>{const r=new FileReader;r.onload=n=>{switch(t){case"store":a.value.store_image=l,V.value=n.target.result,w.value=!1;break;case"main_banner":a.value.main_banner_image=l,B.value=n.target.result,k.value=!1;break;case"sub_banner":a.value.sub_banner_image=l,T.value=n.target.result,C.value=!1;break}},r.readAsDataURL(l)},W=(l,t)=>{const r=[],n=[];Array.from(l).forEach(p=>{const _=new FileReader;_.onload=F=>{r.push(F.target.result),n.push(p),r.length===l.length&&(t==="slider_one"?(a.value.slider_images_one=[...a.value.slider_images_one,...n],x.value=[...x.value,...r],D.value=!1):(a.value.slider_images_two=[...a.value.slider_images_two,...n],y.value=[...y.value,...r],S.value=!1))},_.readAsDataURL(p)})},f=(l,t)=>{var n,p,_;const r=((n=l.target.files)==null?void 0:n[0])||((_=(p=l.dataTransfer)==null?void 0:p.files)==null?void 0:_[0]);r&&r.type.match("image.*")&&Q(r,t)},U=(l,t)=>{var n;const r=l.target.files||((n=l.dataTransfer)==null?void 0:n.files);r&&r.length>0&&W(r,t)},E=l=>{switch(l){case"store":a.value.store_image=null,V.value=null;break;case"main_banner":a.value.main_banner_image=null,B.value=null;break;case"sub_banner":a.value.sub_banner_image=null,T.value=null;break}},A=(l,t)=>{t==="slider_one"?(a.value.slider_images_one.splice(l,1),x.value.splice(l,1)):(a.value.slider_images_two.splice(l,1),y.value.splice(l,1))},X=async()=>{var t,r;b.value=!0;const l=new FormData;l.append("name_en",a.value.name_en),l.append("name_ar",a.value.name_ar),l.append("is_default",a.value.is_default?"1":"0"),l.append("has_market",a.value.has_market?"1":"0"),a.value.store_image&&l.append("store_image",a.value.store_image),a.value.main_banner_image&&l.append("main_banner_image",a.value.main_banner_image),a.value.sub_banner_image&&l.append("sub_banner_image",a.value.sub_banner_image),a.value.slider_images_one.forEach((n,p)=>{l.append(`slider_images_one[${p}]`,n)}),a.value.slider_images_two.forEach((n,p)=>{l.append(`slider_images_two[${p}]`,n)});try{const n=await de.post("/api/store",l,{});M.push({name:"stores"}),N.add({severity:"success",summary:L("success"),detail:"Store created successfully",life:3e3})}catch(n){console.error("Error:",n),N.add({severity:"error",summary:L("error"),detail:((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"An error occurred",life:3e3})}finally{b.value=!1}};return(l,t)=>{const r=j("InputText"),n=j("InputSwitch"),p=j("Button"),_=j("Form"),F=j("Toast"),Y=le("can");return i(),d(P,null,[oe((i(),d("div",ue,[ce,m(_,{ref_key:"form",ref:h,onSubmit:u(X,["prevent"]),class:"space-y-6"},{default:H(()=>{var R,O,z,G;return[e("div",pe,[e("div",me,[_e,m(r,{id:"name_en",modelValue:a.value.name_en,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name_en=s),placeholder:"Enter store name in English",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(O=(R=h.value)==null?void 0:R.errors)!=null&&O.name_en?(i(),d("small",ge,J(h.value.errors.name_en[0]),1)):q("",!0)]),e("div",ve,[be,m(r,{id:"name_ar",modelValue:a.value.name_ar,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name_ar=s),placeholder:"أدخل اسم المتجر بالعربية",dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(G=(z=h.value)==null?void 0:z.errors)!=null&&G.name_ar?(i(),d("small",fe,J(h.value.errors.name_ar[0]),1)):q("",!0)]),e("div",he,[e("div",xe,[ye,m(n,{modelValue:a.value.is_default,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.is_default=s)},null,8,["modelValue"])]),e("div",we,[ke,m(n,{modelValue:a.value.has_market,"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.has_market=s)},null,8,["modelValue"])])]),e("div",Ce,[De,e("div",Se,[e("label",{onDragover:t[6]||(t[6]=u(s=>w.value=!0,["prevent"])),onDragleave:t[7]||(t[7]=s=>w.value=!1),onDrop:t[8]||(t[8]=u(s=>f(s,"store"),["prevent"])),class:$([{"border-blue-500 bg-blue-50":w.value,"border-gray-300":!w.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[4]||(t[4]=s=>f(s,"store")),accept:"image/*",class:"hidden"},null,32),V.value?(i(),d("div",je,[e("div",$e,[e("img",{src:V.value,alt:"Store Logo Preview",class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Ie),e("div",Ve,[e("button",{type:"button",onClick:t[5]||(t[5]=u(s=>E("store"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Te)])])])):(i(),d("div",Ue,Pe))],34)])]),e("div",Me,[Ne,e("div",Le,[e("label",{onDragover:t[11]||(t[11]=u(s=>k.value=!0,["prevent"])),onDragleave:t[12]||(t[12]=s=>k.value=!1),onDrop:t[13]||(t[13]=u(s=>f(s,"main_banner"),["prevent"])),class:$([{"border-blue-500 bg-blue-50":k.value,"border-gray-300":!k.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[9]||(t[9]=s=>f(s,"main_banner")),accept:"image/*",class:"hidden"},null,32),B.value?(i(),d("div",Ae,[e("div",Re,[e("img",{src:B.value,alt:"Main Banner Preview",class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Oe),e("div",ze,[e("button",{type:"button",onClick:t[10]||(t[10]=u(s=>E("main_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},He)])])])):(i(),d("div",Je,Qe))],34)])]),e("div",We,[Xe,e("div",Ye,[e("label",{onDragover:t[16]||(t[16]=u(s=>C.value=!0,["prevent"])),onDragleave:t[17]||(t[17]=s=>C.value=!1),onDrop:t[18]||(t[18]=u(s=>f(s,"sub_banner"),["prevent"])),class:$([{"border-blue-500 bg-blue-50":C.value,"border-gray-300":!C.value},"cursor-pointer w-full max-w-2xl h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[14]||(t[14]=s=>f(s,"sub_banner")),accept:"image/*",class:"hidden"},null,32),T.value?(i(),d("div",Ze,[e("div",et,[e("img",{src:T.value,alt:"Sub Banner Preview",class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,tt),e("div",st,[e("button",{type:"button",onClick:t[15]||(t[15]=u(s=>E("sub_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},lt)])])])):(i(),d("div",ot,it))],34)])]),e("div",dt,[ut,e("div",ct,[e("label",{onDragover:t[20]||(t[20]=u(s=>D.value=!0,["prevent"])),onDragleave:t[21]||(t[21]=s=>D.value=!1),onDrop:t[22]||(t[22]=u(s=>U(s,"slider_one"),["prevent"])),class:$([{"border-blue-500 bg-blue-50":D.value,"border-gray-300":!D.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[19]||(t[19]=s=>U(s,"slider_one")),accept:"image/*",multiple:"",class:"hidden"},null,32),x.value.length>0?(i(),d("div",pt,[e("div",mt,[(i(!0),d(P,null,K(x.value,(s,g)=>(i(),d("div",{key:g,class:"relative group"},[e("img",{src:s,alt:`Slider One Image ${g+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,_t),e("div",gt,[e("button",{type:"button",onClick:u(Z=>A(g,"slider_one"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},ft,8,vt)])]))),128))]),ht])):(i(),d("div",xt,Ct))],34)])]),e("div",Dt,[St,e("div",jt,[e("label",{onDragover:t[24]||(t[24]=u(s=>S.value=!0,["prevent"])),onDragleave:t[25]||(t[25]=s=>S.value=!1),onDrop:t[26]||(t[26]=u(s=>U(s,"slider_two"),["prevent"])),class:$([{"border-blue-500 bg-blue-50":S.value,"border-gray-300":!S.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[23]||(t[23]=s=>U(s,"slider_two")),accept:"image/*",multiple:"",class:"hidden"},null,32),y.value.length>0?(i(),d("div",$t,[e("div",It,[(i(!0),d(P,null,K(y.value,(s,g)=>(i(),d("div",{key:g,class:"relative group"},[e("img",{src:s,alt:`Slider Two Image ${g+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Vt),e("div",Bt,[e("button",{type:"button",onClick:u(Z=>A(g,"slider_two"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Et,8,Tt)])]))),128))]),Ft])):(i(),d("div",Pt,At))],34)])])]),e("div",Rt,[m(p,{type:"button",label:"Cancel",icon:"pi pi-times",onClick:t[27]||(t[27]=s=>ne(M).go(-1)),class:"px-6 py-3 mx-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:b.value},null,8,["disabled"]),m(p,{type:"submit",label:"Create Store",icon:"pi pi-plus",loading:b.value,class:"px-8 mx-2 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:b.value},{default:H(()=>[b.value?(i(),d("i",zt)):(i(),d("span",Ot,"Create Store"))]),_:1},8,["loading","disabled"])])]}),_:1},8,["onSubmit"])])),[[Y,"create stores"]]),m(F)],64)}}},Jt=ee(Gt,[["__scopeId","data-v-7ab903f9"]]);export{Jt as default};
