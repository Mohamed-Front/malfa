import{p as Z,z as ee,y as se,L as oe,r as p,o as te,d as g,C as ae,e as r,f as n,E as le,h as e,t as a,i,w as L,J as k,F as re,b as E,m,n as v,G as ne,s as de,v as ue}from"./index-cc239839.js";const u=b=>(de("data-v-a72ea56c"),b=b(),ue(),b),ie={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},ce={class:"text-3xl font-bold text-center mb-8 text-gray-800"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},me={class:"space-y-2"},_e={for:"name",class:"block text-sm font-medium text-gray-700"},ge=u(()=>e("span",{class:"text-red-500"},"*",-1)),ve={key:0,class:"text-red-500 text-xs"},he={class:"space-y-2"},fe={for:"phone",class:"block text-sm font-medium text-gray-700"},be=u(()=>e("span",{class:"text-red-500"},"*",-1)),ye={key:0,class:"text-red-500 text-xs"},xe={class:"space-y-2"},we={for:"type",class:"block text-sm font-medium text-gray-700"},ke=u(()=>e("span",{class:"text-red-500"},"*",-1)),Ve={key:0,class:"text-red-500 text-xs"},De={class:"space-y-2"},$e={for:"role",class:"block text-sm font-medium text-gray-700"},Ue=u(()=>e("span",{class:"text-red-500"},"*",-1)),Ie={key:0,class:"text-red-500 text-xs"},Ce={class:"space-y-2"},Fe={for:"email",class:"block text-sm font-medium text-gray-700"},Se=u(()=>e("span",{class:"text-red-500"},"*",-1)),Te={key:0,class:"text-red-500 text-xs"},je={class:"space-y-2"},Be={for:"password",class:"block text-sm font-medium text-gray-700"},Ne=u(()=>e("span",{class:"text-red-500"},"*",-1)),Pe={key:0,class:"text-red-500 text-xs"},Ge={class:"md:col-span-2 space-y-2"},Le={class:"block text-sm font-medium text-gray-700"},Ee={class:"flex justify-center"},Me=["onDragover","onDrop"],Re={key:0,class:"p-4"},ze={class:"relative group"},Ae=["src"],Je={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Oe={class:"opacity-0 group-hover:opacity-100 space-x-3 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0"},qe=["onClick"],He=u(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Ke=[He],Qe=u(()=>e("button",{type:"button",class:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100 transition"},[e("i",{class:"pi pi-pencil text-sm"})],-1)),We=u(()=>e("p",{class:"mt-2 text-center text-sm text-gray-500"},"Click or drag to change photo",-1)),Xe={key:1,class:"p-8 flex flex-col items-center justify-center"},Ye=u(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1)),Ze={class:"text-sm text-center text-gray-600 mb-1"},es={class:"text-blue-500 font-medium"},ss=u(()=>e("p",{class:"text-xs text-gray-400"},"SVG, PNG, JPG or GIF (max. 1MB)",-1)),os={class:"pt-4 flex justify-center"},ts={key:0},as={key:1,class:"pi pi-spinner pi-spin"},ls={setup(b){const M=ee(),R=se(),{t:z}=oe(),l=p(),_=p(!1),V=p([]),y=p(null),x=p(null),h=p(!1),t=p({name:"",phone:"",type:null,role_id:null,email:"",password:""}),A=async()=>{try{const s=await E.get("api/role");V.value=s.data.data.data}catch(s){console.error("Error fetching roles:",s)}},J=s=>{s.preventDefault(),h.value=!0},O=()=>{h.value=!1},q=s=>{y.value=s;const o=new FileReader;o.onload=c=>{x.value=c.target.result},o.readAsDataURL(s),h.value=!1},D=s=>{var c,f,w;const o=((c=s.target.files)==null?void 0:c[0])||((w=(f=s.dataTransfer)==null?void 0:f.files)==null?void 0:w[0]);o&&o.type.match("image.*")&&q(o)},H=()=>{y.value=null,x.value=null},K=async()=>{_.value=!0;const s=new FormData;s.append("name",t.value.name),s.append("phone",t.value.phone),s.append("type",t.value.type),s.append("role_id",t.value.role_id),s.append("email",t.value.email),s.append("password",t.value.password),y.value&&s.append("image",y.value),E.post("/api/user",s).then(o=>{R.push({name:"users"}),_.value=!1}).catch(o=>{console.error("Error:",o),M.add({severity:"error",summary:z("error"),detail:o.response.data.message,life:3e3}),_.value=!1})};return te(()=>{A()}),(s,o)=>{const c=g("InputText"),f=g("Dropdown"),w=g("Password"),Q=g("Button"),W=g("Form"),X=g("Toast"),Y=ae("can");return r(),n(re,null,[le((r(),n("div",ie,[e("h1",ce,a(s.$t("user.create_New_User")),1),i(W,{ref_key:"form",ref:l,model:t.value,rules:s.rules,onSubmit:k(K,["prevent"]),class:"space-y-6"},{default:L(()=>{var $,U,I,C,F,S,T,j,B,N,P,G;return[e("div",pe,[e("div",me,[e("label",_e,[m(a(s.$t("user.name"))+" ",1),ge]),i(c,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value.name=d),placeholder:s.$t("user.enter_full_name"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"]),(U=($=l.value)==null?void 0:$.errors)!=null&&U.name?(r(),n("small",ve,a(l.value.errors.name[0].message),1)):v("",!0)]),e("div",he,[e("label",fe,[m(a(s.$t("user.phone"))+" ",1),be]),i(c,{id:"phone",modelValue:t.value.phone,"onUpdate:modelValue":o[1]||(o[1]=d=>t.value.phone=d),placeholder:"+1 (___) ___-____",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(C=(I=l.value)==null?void 0:I.errors)!=null&&C.phone?(r(),n("small",ye,a(l.value.errors.phone[0].message),1)):v("",!0)]),e("div",xe,[e("label",we,[m(a(s.$t("user.type"))+" ",1),ke]),i(f,{id:"type",modelValue:t.value.type,"onUpdate:modelValue":o[2]||(o[2]=d=>t.value.type=d),options:[{label:"Admin",value:1},{label:"customer",value:2},{label:"User",value:2}],optionLabel:"label",optionValue:"value",placeholder:s.$t("user.select_user_type"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","placeholder"]),(S=(F=l.value)==null?void 0:F.errors)!=null&&S.type?(r(),n("small",Ve,a(l.value.errors.type[0].message),1)):v("",!0)]),e("div",De,[e("label",$e,[m(a(s.$t("user.role"))+" ",1),Ue]),i(f,{id:"role",modelValue:t.value.role_id,"onUpdate:modelValue":o[3]||(o[3]=d=>t.value.role_id=d),options:V.value,optionLabel:"name",optionValue:"id",placeholder:s.$t("user.select_role"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options","placeholder"]),(j=(T=l.value)==null?void 0:T.errors)!=null&&j.role_id?(r(),n("small",Ie,a(l.value.errors.role_id[0].message),1)):v("",!0)]),e("div",Ce,[e("label",Fe,[m(a(s.$t("user.email"))+" ",1),Se]),i(c,{id:"email",modelValue:t.value.email,"onUpdate:modelValue":o[4]||(o[4]=d=>t.value.email=d),type:"email",placeholder:"user@example.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(N=(B=l.value)==null?void 0:B.errors)!=null&&N.email?(r(),n("small",Te,a(l.value.errors.email[0].message),1)):v("",!0)]),e("div",je,[e("label",Be,[m(a(s.$t("user.password"))+" ",1),Ne]),i(w,{id:"password",modelValue:t.value.password,"onUpdate:modelValue":o[5]||(o[5]=d=>t.value.password=d),placeholder:"••••••••",toggleMask:"",feedback:!1,inputClass:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",class:"w-full"},null,8,["modelValue"]),(G=(P=l.value)==null?void 0:P.errors)!=null&&G.password?(r(),n("small",Pe,a(l.value.errors.password[0].message),1)):v("",!0)]),e("div",Ge,[e("label",Le,a(s.$t("user.profile_Image")),1),e("div",Ee,[e("label",{onDragover:k(J,["prevent"]),onDragleave:O,onDrop:k(D,["prevent"]),class:ne([{"border-blue-500 bg-blue-50":h.value,"border-gray-300":!h.value},"cursor-pointer w-full max-w-md rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:D,accept:"image/*",class:"hidden"},null,32),x.value?(r(),n("div",Re,[e("div",ze,[e("img",{src:x.value,alt:"Preview",class:"w-full h-64 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Ae),e("div",Je,[e("div",Oe,[e("button",{type:"button",onClick:k(H,["stop"]),class:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Ke,8,qe),Qe])])]),We])):(r(),n("div",Xe,[Ye,e("p",Ze,[e("span",es,a(s.$t("user.click_to_upload")),1),m(" "+a(s.$t("user.or_drag_and_drop")),1)]),ss]))],42,Me)])])]),e("div",os,[i(Q,{type:"submit",label:"Create User",icon:"pi pi-user-plus",loading:_.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:_.value},{default:L(()=>[_.value?(r(),n("i",as)):(r(),n("span",ts,a(s.$t("user.create_User")),1))]),_:1},8,["loading","disabled"])])]}),_:1},8,["model","rules","onSubmit"])])),[[Y,"create users"]]),i(X)],64)}}},ns=Z(ls,[["__scopeId","data-v-a72ea56c"]]);export{ns as default};
