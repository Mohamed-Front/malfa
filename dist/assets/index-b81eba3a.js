import{p as ne,y as ie,r as t,z as de,B as ce,A as re,o as pe,d as i,C as ue,e as c,f as r,h as o,i as s,w as n,D as _e,b as A,E as w,q as me,m as N,t as p,F as R,k as ve,G as ge,n as j,s as he,v as fe}from"./index-cc239839.js";const u=x=>(he("data-v-74f4472e"),x=x(),fe(),x),be={class:"grid"},ye={class:"col-12"},we={class:"my-2"},xe={class:"my-2 flex gap-2"},ke={class:"p-input-icon-left"},Ce=u(()=>o("i",{class:"pi pi-search"},null,-1)),De=u(()=>o("div",{class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},[o("h5",{class:"m-0 my-auto px-2"},"Models")],-1)),Ne={class:"p-paginator p-component p-unselectable-text mt-3"},Ve={class:"p-paginator-left-content"},Te={class:"p-paginator-current"},Se={class:"p-paginator-right-content"},Me={class:"p-paginator-pages"},Pe=["disabled"],$e=u(()=>o("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),Be=[$e],Ie=["disabled"],Ue=u(()=>o("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Ee=[Ue],Fe=["onClick"],ze={key:1,class:"p-paginator-dots"},Ae=["disabled"],Re=u(()=>o("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),je=[Re],qe=["disabled"],Ge=u(()=>o("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Le=[Ge],Oe={class:"p-paginator-rpp-options"},Qe={class:"flex align-items-center justify-content-center"},Ye=u(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0},Je={setup(x){const V=ie();t([]);const q=de();t(null);const k=t(!0),T=t("");t({}),t(!0),t("");const S=t(null);t(!1),t(!1);const v=t(!1),G=t({}),M=t(null),P=t(null),$=t({}),C=t(""),d=t(1),B=t(0),g=t(10),D=t(0),L=t(""),O=t(""),I=t(""),U=t(""),E=t(0),F=t(0),z=t([]),Q=()=>{P.value.exportCSV()},Y=a=>{T.value=a,v.value=!0},H=()=>{A.delete(`/api/model/${T.value}`).then(()=>{h(),v.value=!1,q.add({severity:"success",summary:"Successful",detail:"Model Deleted",life:3e3})})},J=()=>{$.value={global:{value:null,matchMode:_e.CONTAINS}}};ce(()=>{J()});const h=()=>{k.value=!0,A.get("/api/model",{params:{page:d.value,limit:g.value,search:C.value}}).then(a=>{k.value=!1,S.value=a.data.data.data,B.value=a.data.data.total,D.value=a.data.data.last_page,L.value=a.data.data.first_page_url,O.value=a.data.data.last_page_url,I.value=a.data.data.next_page_url,U.value=a.data.data.prev_page_url,E.value=a.data.data.from,F.value=a.data.data.to,z.value=a.data.data.links}).catch(a=>{k.value=!1,console.error("Error fetching data:",a)})};re(C,a=>{d.value=1,h()});const f=a=>{a>=1&&a<=D.value&&(d.value=a,h())},K=a=>{g.value=a.value,d.value=1,h()};pe(()=>{h()});const W=()=>{V.push({name:"model-create"})},X=a=>{V.push({name:"model-edit",params:{id:a}})};return(a,l)=>{const _=i("Button"),Z=i("InputText"),ee=i("Toolbar"),te=i("Toast"),b=i("Column"),ae=i("DataTable"),oe=i("Dropdown"),le=i("Dialog"),se=i("va-card"),y=ue("can");return c(),r("div",be,[o("div",ye,[s(se,{class:"card"},{default:n(()=>[s(ee,{class:"mb-4"},{start:n(()=>[o("div",we,[w(s(_,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:W},null,512),[[y,"create models"]])])]),end:n(()=>[w((c(),r("div",xe,[o("span",ke,[Ce,s(Z,{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),placeholder:"Search..."},null,8,["modelValue"])]),s(_,{label:"Export",icon:"pi pi-upload",class:"new",onClick:l[1]||(l[1]=e=>Q())})])),[[y,"list models"]])]),_:1}),s(te),w((c(),me(ae,{ref_key:"dt",ref:P,selection:M.value,"onUpdate:selection":l[2]||(l[2]=e=>M.value=e),value:S.value,loading:k.value,"data-key":"id",paginator:!1,rows:g.value,filters:$.value,"responsive-layout":"scroll"},{header:n(()=>[De]),default:n(()=>[s(b,{"selection-mode":"multiple","header-style":"width: 3rem"}),s(b,{field:"name_ar",header:"Name (ar)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[N(p(e.data.name_ar),1)]),_:1}),s(b,{field:"name_en",header:"Name (en)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[N(p(e.data.name_en),1)]),_:1}),s(b,{field:"brand.name_en",header:"Brand",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>{var m;return[N(p((m=e.data.brand)==null?void 0:m.name_en),1)]}),_:1}),s(b,{"header-style":"min-width:10rem;"},{body:n(e=>[w(s(_,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:m=>X(e.data.id)},null,8,["onClick"]),[[y,"edit models"]]),w(s(_,{icon:"pi pi-trash",class:"delete mt-2",onClick:m=>Y(e.data.id)},null,8,["onClick"]),[[y,"delete models"]])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"])),[[y,"list models"]]),o("div",Ne,[o("div",Ve,[o("span",Te,"Showing "+p(E.value)+" to "+p(F.value)+" of "+p(B.value)+" entries",1)]),o("div",Se,[o("span",Me,[o("button",{class:"p-paginator-first p-paginator-element p-link",disabled:d.value===1,onClick:l[3]||(l[3]=e=>f(1))},Be,8,Pe),o("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!U.value,onClick:l[4]||(l[4]=e=>f(d.value-1))},Ee,8,Ie),(c(!0),r(R,null,ve(z.value,(e,m)=>(c(),r(R,{key:m},[e.label&&!isNaN(e.label)?(c(),r("button",{key:0,class:ge(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:Ke=>f(parseInt(e.label))},p(e.label),11,Fe)):e.label==="..."?(c(),r("span",ze,"...")):j("",!0)],64))),128)),o("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!I.value,onClick:l[5]||(l[5]=e=>f(d.value+1))},je,8,Ae),o("button",{class:"p-paginator-last p-paginator-element p-link",disabled:d.value===D.value,onClick:l[6]||(l[6]=e=>f(D.value))},Le,8,qe)]),o("span",Oe,[s(oe,{modelValue:g.value,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value=e),options:[5,10,20,30],onChange:K,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),s(le,{visible:v.value,"onUpdate:visible":l[9]||(l[9]=e=>v.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[s(_,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:l[8]||(l[8]=e=>v.value=!1)}),s(_,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:H})]),default:n(()=>[o("div",Qe,[Ye,G.value?(c(),r("span",He,"Are you sure you want to delete the selected model?")):j("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},Xe=ne(Je,[["__scopeId","data-v-74f4472e"]]);export{Xe as default};
