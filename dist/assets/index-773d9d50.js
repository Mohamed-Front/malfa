import{_ as ne,u as ie,r as t,f as de,E as ce,w as re,o as pe,h as i,i as ue,b as c,c as r,j as l,e as s,k as n,G as _e,a as A,l as w,m as me,q as V,t as p,F as R,A as ve,p as ge,C as z,s as he,v as be}from"./index-7498dde3.js";const u=x=>(he("data-v-a90bb388"),x=x(),be(),x),fe={class:"grid"},ye={class:"col-12"},we={class:"my-2"},xe={class:"my-2 flex gap-2"},ke={class:"p-input-icon-left"},Ce=u(()=>l("i",{class:"pi pi-search"},null,-1)),Ne=u(()=>l("div",{class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},[l("h5",{class:"m-0 my-auto px-2"},"Models")],-1)),Ve={class:"p-paginator p-component p-unselectable-text mt-3"},De={class:"p-paginator-left-content"},Te={class:"p-paginator-current"},Se={class:"p-paginator-right-content"},Me={class:"p-paginator-pages"},Pe=["disabled"],$e=u(()=>l("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),Be=[$e],Ie=["disabled"],Ue=u(()=>l("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Ee=[Ue],Fe=["onClick"],je={key:1,class:"p-paginator-dots"},Ae=["disabled"],Re=u(()=>l("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),ze=[Re],qe=["disabled"],Ge=u(()=>l("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Le=[Ge],Oe={class:"p-paginator-rpp-options"},Qe={class:"flex align-items-center justify-content-center"},Ye=u(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0},Je={setup(x){const D=ie();t([]);const q=de();t(null);const k=t(!0),T=t("");t({}),t(!0),t("");const S=t(null);t(!1),t(!1);const v=t(!1),G=t({}),M=t(null),P=t(null),$=t({}),C=t(""),d=t(1),B=t(0),g=t(10),N=t(0),L=t(""),O=t(""),I=t(""),U=t(""),E=t(0),F=t(0),j=t([]),Q=()=>{P.value.exportCSV()},Y=a=>{T.value=a,v.value=!0},H=()=>{A.delete(`/api/model/${T.value}`).then(()=>{h(),v.value=!1,q.add({severity:"success",summary:"Successful",detail:"Model Deleted",life:3e3})})},J=()=>{$.value={global:{value:null,matchMode:_e.CONTAINS}}};ce(()=>{J()});const h=()=>{k.value=!0,A.get("/api/model",{params:{page:d.value,limit:g.value,search:C.value}}).then(a=>{k.value=!1,S.value=a.data.data.data,B.value=a.data.data.total,N.value=a.data.data.last_page,L.value=a.data.data.first_page_url,O.value=a.data.data.last_page_url,I.value=a.data.data.next_page_url,U.value=a.data.data.prev_page_url,E.value=a.data.data.from,F.value=a.data.data.to,j.value=a.data.data.links}).catch(a=>{k.value=!1,console.error("Error fetching data:",a)})};re(C,a=>{d.value=1,h()});const b=a=>{a>=1&&a<=N.value&&(d.value=a,h())},K=a=>{g.value=a.value,d.value=1,h()};pe(()=>{h()});const W=()=>{D.push({name:"model-create"})},X=a=>{D.push({name:"model-edit",params:{id:a}})};return(a,o)=>{const _=i("Button"),Z=i("InputText"),ee=i("Toolbar"),te=i("Toast"),f=i("Column"),ae=i("DataTable"),le=i("Dropdown"),oe=i("Dialog"),se=i("va-card"),y=ue("can");return c(),r("div",fe,[l("div",ye,[s(se,{class:"card"},{default:n(()=>[s(ee,{class:"mb-4"},{start:n(()=>[l("div",we,[w(s(_,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:W},null,512),[[y,"create models"]])])]),end:n(()=>[w((c(),r("div",xe,[l("span",ke,[Ce,s(Z,{modelValue:C.value,"onUpdate:modelValue":o[0]||(o[0]=e=>C.value=e),placeholder:"Search..."},null,8,["modelValue"])]),s(_,{label:"Export",icon:"pi pi-upload",class:"new",onClick:o[1]||(o[1]=e=>Q())})])),[[y,"list models"]])]),_:1}),s(te),w((c(),me(ae,{ref_key:"dt",ref:P,selection:M.value,"onUpdate:selection":o[2]||(o[2]=e=>M.value=e),value:S.value,loading:k.value,"data-key":"id",paginator:!1,rows:g.value,filters:$.value,"responsive-layout":"scroll"},{header:n(()=>[Ne]),default:n(()=>[s(f,{"selection-mode":"multiple","header-style":"width: 3rem"}),s(f,{field:"name_ar",header:"Name (ar)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[V(p(e.data.name_ar),1)]),_:1}),s(f,{field:"name_en",header:"Name (en)",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[V(p(e.data.name_en),1)]),_:1}),s(f,{field:"brand.name_en",header:"Brand",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>{var m;return[V(p((m=e.data.brand)==null?void 0:m.name_en),1)]}),_:1}),s(f,{"header-style":"min-width:10rem;"},{body:n(e=>[w(s(_,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:m=>X(e.data.id)},null,8,["onClick"]),[[y,"edit models"]]),w(s(_,{icon:"pi pi-trash",class:"delete mt-2",onClick:m=>Y(e.data.id)},null,8,["onClick"]),[[y,"delete models"]])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"])),[[y,"list models"]]),l("div",Ve,[l("div",De,[l("span",Te,"Showing "+p(E.value)+" to "+p(F.value)+" of "+p(B.value)+" entries",1)]),l("div",Se,[l("span",Me,[l("button",{class:"p-paginator-first p-paginator-element p-link",disabled:d.value===1,onClick:o[3]||(o[3]=e=>b(1))},Be,8,Pe),l("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!U.value,onClick:o[4]||(o[4]=e=>b(d.value-1))},Ee,8,Ie),(c(!0),r(R,null,ve(j.value,(e,m)=>(c(),r(R,{key:m},[e.label&&!isNaN(e.label)?(c(),r("button",{key:0,class:ge(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:Ke=>b(parseInt(e.label))},p(e.label),11,Fe)):e.label==="..."?(c(),r("span",je,"...")):z("",!0)],64))),128)),l("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!I.value,onClick:o[5]||(o[5]=e=>b(d.value+1))},ze,8,Ae),l("button",{class:"p-paginator-last p-paginator-element p-link",disabled:d.value===N.value,onClick:o[6]||(o[6]=e=>b(N.value))},Le,8,qe)]),l("span",Oe,[s(le,{modelValue:g.value,"onUpdate:modelValue":o[7]||(o[7]=e=>g.value=e),options:[5,10,20,30],onChange:K,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),s(oe,{visible:v.value,"onUpdate:visible":o[9]||(o[9]=e=>v.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[s(_,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[8]||(o[8]=e=>v.value=!1)}),s(_,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:H})]),default:n(()=>[l("div",Qe,[Ye,G.value?(c(),r("span",He,"Are you sure you want to delete the selected model?")):z("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},Xe=ne(Je,[["__scopeId","data-v-a90bb388"]]);export{Xe as default};
